{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import AsyncStorage from'@react-native-async-storage/async-storage';import{createKeyboardAwareNavigator}from\"react-navigation\";function generateAllSets(raceID,set,cat,subcat,numberOfSets){for(var i=1;i<parseInt(numberOfSets)+1;i++){console.log(i);generateNewWheelSet(raceID,i,cat,subcat);}}function generateNewWheelSet(raceID,setNr,cat,subcat){var cols,i;return _regeneratorRuntime.async(function generateNewWheelSet$(_context){while(1){switch(_context.prev=_context.next){case 0:cols=[];i=0;case 2:if(!(i<4)){_context.next=8;break;}_context.next=5;return _regeneratorRuntime.awrap(sendWheelRequest(0,'','').then(function(Data){console.log(Data);cols.push(Data);}).catch(function(error){console.log(error);}));case 5:i++;_context.next=2;break;case 8:console.log(cols);_context.next=11;return _regeneratorRuntime.awrap(sendWheelsRequest(parseInt(cols[0]),parseInt(cols[1]),parseInt(cols[2]),parseInt(cols[3]),'').then(function(Data){console.log(Data);cols.push(Data);}).catch(function(error){console.log(error);}));case 11:console.debug(cols[4]);sendNewSetRequest(raceID,setNr,cat,subcat,cols[4]);case 13:case\"end\":return _context.stop();}}},null,null,null,Promise);}function sendWheelRequest(accesstoken){var air_press,id_scan,id,_args2=arguments;return _regeneratorRuntime.async(function sendWheelRequest$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:air_press=_args2.length>1&&_args2[1]!==undefined?_args2[1]:0;id_scan=_args2.length>2&&_args2[2]!==undefined?_args2[2]:'';id=_args2.length>3&&_args2[3]!==undefined?_args2[3]:'';_context2.next=5;return _regeneratorRuntime.awrap(timeoutPromise(2000,fetch('https://api.race24.cloud/wheel_cont/createWheel',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({aceess_tolen:accesstoken,air_press:air_press,id_scan:id_scan,id:id})})).then(function(response){return response.json();}).then(function(data){if(\"msg\"in data){if(data[\"msg\"]===\"Token has expired\"){refreshToken().then(function(token){sendWheelRequest(accesstoken,air_press,id_scan,id);}).catch(function(error){console.log(\"Refresh failed\");console.log(error);});return[];}}else{console.log(\"Return Data\");console.log(data[0].id);return data[0].id;}return[];}).catch(function(error){console.log(error);return[];}));case 5:return _context2.abrupt(\"return\",_context2.sent);case 6:case\"end\":return _context2.stop();}}},null,null,null,Promise);}function sendWheelsRequest(accesstoken,id_FL,id_FR,id_BL,id_BR){var id,_args3=arguments;return _regeneratorRuntime.async(function sendWheelsRequest$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:id=_args3.length>5&&_args3[5]!==undefined?_args3[5]:'';console.log([id_FL,id_FR,id_BL,id_BR]);_context3.next=4;return _regeneratorRuntime.awrap(timeoutPromise(2000,fetch('https://api.race24.cloud/wheel_cont/createWheels',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({acces_token:accesstoken,id_FL:id_FL,id_FR:id_FR,id_BL:id_BL,id_BR:id_BR,id:id})})).then(function(response){return response.json();}).then(function(data){if(\"msg\"in data){if(data[\"msg\"]===\"Token has expired\"){refreshToken().then(function(token){sendWheelsRequest(accesstoken,id_FL,id_FR,id_BL,id_BR,id);}).catch(function(error){console.log(\"Refresh failed\");console.log(error);});return[];}}else{console.log(\"Return Data\");console.log(data[0].id);return data[0].id;}return[];}).catch(function(error){console.log(error);return[];}));case 4:return _context3.abrupt(\"return\",_context3.sent);case 5:case\"end\":return _context3.stop();}}},null,null,null,Promise);}function changeSetData(setData){return _regeneratorRuntime.async(function changeSetData$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:timeoutPromise(1000,fetch('https://api.race24.cloud/wheel_cont/changeSetData',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({setData:setData})})).then(function(response){return response.json();}).then(function(data){if(data[1]==200){console.log(\"Set Changed\");}else{console.log(\"failed\");}}).catch(function(error){console.log(error);});case 1:case\"end\":return _context4.stop();}}},null,null,null,Promise);}function changeSingleWheel(id,liste_attribute){var _this=this;return _regeneratorRuntime.async(function changeSingleWheel$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:timeoutPromise(2000,fetch('https://api.race24.cloud/wheel_cont/change_single_wheel',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({id:id,liste_attribute:liste_attribute})})).then(function(response){return response.json();}).then(function(data){if(data[1]==200){console.log(\"Pressure Changed\");_this.getWheelData();}else{console.log(\"failed\");}}).catch(function(error){console.log(error);});case 1:case\"end\":return _context5.stop();}}},null,null,null,Promise);}function changeWheelSet(id,liste_attribute){var _this2=this;return _regeneratorRuntime.async(function changeWheelSet$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:timeoutPromise(2000,fetch('https://api.race24.cloud/wheel_cont/change_wheelSet',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({id:id,liste_attribute:liste_attribute})})).then(function(response){return response.json();}).then(function(data){if(data[1]==200){console.log(\"Pressure Changed\");_this2.getWheelData();}else{console.log(\"failed\");}}).catch(function(error){console.log(error);});case 1:case\"end\":return _context6.stop();}}},null,null,null,Promise);}function sendFormelRequest(accesstoken,setid,data_dict){return _regeneratorRuntime.async(function sendFormelRequest$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return _regeneratorRuntime.awrap(timeoutPromise(2000,fetch('https://api.race24.cloud/wheel_cont/saveformel',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({acces_token:accesstoken,setid:setid,data_dict:data_dict})})).then(function(response){return response.json();}).then(function(data){if(\"msg\"in data){if(data[\"msg\"]===\"Token has expired\"){refreshToken().then(function(token){sendWheelsRequest(accesstoken,setid,data_dict);}).catch(function(error){console.log(\"Refresh failed\");console.log(error);});return[];}}else{console.log(\"Return Data\");console.log(data[0].id);return data[0].id;}return[];}).catch(function(error){console.log(error);return[];}));case 2:return _context7.abrupt(\"return\",_context7.sent);case 3:case\"end\":return _context7.stop();}}},null,null,null,Promise);}function sendBleedRequest(accesstoken,setid,bleed_initial,bleed_hot){return _regeneratorRuntime.async(function sendBleedRequest$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return _regeneratorRuntime.awrap(timeoutPromise(2000,fetch('https://api.race24.cloud/wheel_cont/saveBleed',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({acces_token:accesstoken,setid:setid,bleed_hot:bleed_hot,bleed_initial:bleed_initial})})).then(function(response){return response.json();}).then(function(data){if(\"msg\"in data){if(data[\"msg\"]===\"Token has expired\"){refreshToken().then(function(token){sendWheelsRequest(accesstoken,setid,bleed_initial,bleed_hot);}).catch(function(error){console.log(\"Refresh failed\");console.log(error);});return[];}}else{console.log(\"Return Data\");console.log(data[0].id);return data[0].id;}return[];}).catch(function(error){console.log(error);return[];}));case 2:return _context8.abrupt(\"return\",_context8.sent);case 3:case\"end\":return _context8.stop();}}},null,null,null,Promise);}function sendStatusRequest(accesstoken,setid,status){return _regeneratorRuntime.async(function sendStatusRequest$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return _regeneratorRuntime.awrap(timeoutPromise(2000,fetch('https://api.race24.cloud/wheel_cont/saveStatus',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({acces_token:accesstoken,setid:setid,status:status})})).then(function(response){return response.json();}).then(function(data){if(\"msg\"in data){if(data[\"msg\"]===\"Token has expired\"){refreshToken().then(function(token){sendWheelsRequest(accesstoken,setid,status);}).catch(function(error){console.log(\"Refresh failed\");console.log(error);});return[];}}else{console.log(\"Return Data\");console.log(data[0].id);return data[0].id;}return[];}).catch(function(error){console.log(error);return[];}));case 2:return _context9.abrupt(\"return\",_context9.sent);case 3:case\"end\":return _context9.stop();}}},null,null,null,Promise);}function changeTimer(raceID,liste){timeoutPromise(2000,fetch('https://api.race24.cloud/timer/change_times',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({raceID:raceID,liste:liste})})).then(function(response){return response.json();}).then(function(data){if(data[1]==200){console.log(\"Timer changes\");}else{console.log(\"failed\");}}).catch(function(error){console.log(error);});}function sendWheelSetRequest(id_FL,id_FR,id_BL,id_BR){var id,_args10=arguments;return _regeneratorRuntime.async(function sendWheelSetRequest$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:id=_args10.length>4&&_args10[4]!==undefined?_args10[4]:'';timeoutPromise(2000,fetch('https://api.race24.cloud/wheel_cont/createWheels',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({id_FL:id_FL,id_FR:id_FR,id_BL:id_BL,id_BR:id_BR,id:id})})).then(function(response){return response.json();}).then(function(response){return response.json();}).then(function(data){if(data[1]==200){console.log(data);return data[0].id;}}).catch(function(error){console.log(error);return 0;});case 2:case\"end\":return _context10.stop();}}},null,null,null,Promise);}function sendNewSetRequest(raceID,setNr,cat,subcat,wheels){return _regeneratorRuntime.async(function sendNewSetRequest$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:console.log([raceID,setNr,cat,subcat,wheels]);timeoutPromise(2000,fetch('https://api.race24.cloud/wheel_cont/createSet',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({id:'',setNr:setNr,cat:cat,subcat:subcat,raceID:raceID,wheels:wheels})})).then(function(response){return response.json();}).then(function(data){if(data[1]==200){console.log(data);};return data[0].id;}).catch(function(error){console.log(error);});case 2:case\"end\":return _context11.stop();}}},null,null,null,Promise);}function timeoutPromise(ms,promise){return new Promise(function(resolve,reject){var timeoutId=setTimeout(function(){reject(new Error('promise timeout'));},ms);promise.then(function(res){clearTimeout(timeoutId);resolve(res);},function(err){clearTimeout(timeoutId);reject(err);});});}function refreshToken(){var accesstoken,refreshtoken;return _regeneratorRuntime.async(function refreshToken$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return _regeneratorRuntime.awrap(AsyncStorage.getItem('accesstoken'));case 2:accesstoken=_context12.sent;_context12.next=5;return _regeneratorRuntime.awrap(AsyncStorage.getItem('refreshtoken'));case 5:refreshtoken=_context12.sent;_context12.next=8;return _regeneratorRuntime.awrap(timeoutPromise(2000,fetch('https://api.race24.cloud/user/auth/refresh',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({access_token:accesstoken,refresh_token:refreshtoken})})).then(function(response){return response.json();}).then(function(data){AsyncStorage.setItem('accesstoken',String(data.access_token));}));case 8:case\"end\":return _context12.stop();}}},null,null,null,Promise);}export{generateAllSets,sendWheelRequest,sendNewSetRequest,sendWheelsRequest,sendStatusRequest,sendBleedRequest,changeSetData,changeTimer};","map":{"version":3,"sources":["/home/toni/PycharmProjects/PropraSource/frontend/tools_wheel.js"],"names":["AsyncStorage","createKeyboardAwareNavigator","generateAllSets","raceID","set","cat","subcat","numberOfSets","i","parseInt","console","log","generateNewWheelSet","setNr","cols","sendWheelRequest","then","Data","push","catch","error","sendWheelsRequest","debug","sendNewSetRequest","accesstoken","air_press","id_scan","id","timeoutPromise","fetch","method","headers","body","JSON","stringify","aceess_tolen","response","json","data","refreshToken","token","id_FL","id_FR","id_BL","id_BR","acces_token","changeSetData","setData","changeSingleWheel","liste_attribute","getWheelData","changeWheelSet","sendFormelRequest","setid","data_dict","sendBleedRequest","bleed_initial","bleed_hot","sendStatusRequest","status","changeTimer","liste","sendWheelSetRequest","wheels","ms","promise","Promise","resolve","reject","timeoutId","setTimeout","Error","res","clearTimeout","err","getItem","refreshtoken","access_token","refresh_token","setItem","String"],"mappings":"4DAAA,MAAOA,CAAAA,YAAP,KAAyB,2CAAzB,CACA,OAAQC,4BAAR,KAA2C,kBAA3C,CAEA,QAASC,CAAAA,eAAT,CAAyBC,MAAzB,CAAgCC,GAAhC,CAAoCC,GAApC,CAAwCC,MAAxC,CAA+CC,YAA/C,CAA4D,CACpD,IAAI,GAAIC,CAAAA,CAAC,CAAE,CAAX,CAAcA,CAAC,CAAGC,QAAQ,CAACF,YAAD,CAAR,CAAuB,CAAzC,CAA2CC,CAAC,EAA5C,CAA+C,CAC3CE,OAAO,CAACC,GAAR,CAAYH,CAAZ,EACAI,mBAAmB,CAACT,MAAD,CAAQK,CAAR,CAAUH,GAAV,CAAcC,MAAd,CAAnB,CACH,CACJ,CAIL,QAAeM,CAAAA,mBAAf,CAAmCT,MAAnC,CAA0CU,KAA1C,CAAgDR,GAAhD,CAAoDC,MAApD,0IACQQ,IADR,CACe,EADf,CAEaN,CAFb,CAEgB,CAFhB,aAEmBA,CAAC,CAAG,CAFvB,2EAGcO,gBAAgB,CAAC,CAAD,CAAG,EAAH,CAAO,EAAP,CAAhB,CAA2BC,IAA3B,CAAgC,SAAAC,IAAI,CAAI,CAC1CP,OAAO,CAACC,GAAR,CAAYM,IAAZ,EACAH,IAAI,CAACI,IAAL,CAAUD,IAAV,EACH,CAHK,EAGHE,KAHG,CAGG,SAAUC,KAAV,CAAiB,CACtBV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACH,CALK,CAHd,SAE0BZ,CAAC,EAF3B,8BAYIE,OAAO,CAACC,GAAR,CAAYG,IAAZ,EAZJ,kDAaQO,iBAAiB,CAACZ,QAAQ,CAAEK,IAAI,CAAC,CAAD,CAAN,CAAT,CAAqBL,QAAQ,CAACK,IAAI,CAAC,CAAD,CAAL,CAA7B,CAAwCL,QAAQ,CAACK,IAAI,CAAC,CAAD,CAAL,CAAhD,CAA2DL,QAAQ,CAACK,IAAI,CAAC,CAAD,CAAL,CAAnE,CAA8E,EAA9E,CAAjB,CAAmGE,IAAnG,CAAwG,SAAAC,IAAI,CAAI,CAC5GP,OAAO,CAACC,GAAR,CAAYM,IAAZ,EACAH,IAAI,CAACI,IAAL,CAAUD,IAAV,EACH,CAHD,EAGGE,KAHH,CAGS,SAAUC,KAAV,CAAiB,CACtBV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACH,CALD,CAbR,UAmBIV,OAAO,CAACY,KAAR,CAAcR,IAAI,CAAC,CAAD,CAAlB,EAEAS,iBAAiB,CAACpB,MAAD,CAAQU,KAAR,CAAcR,GAAd,CAAmBC,MAAnB,CAA0BQ,IAAI,CAAC,CAAD,CAA9B,CAAjB,CArBJ,sEAyBA,QAAeC,CAAAA,gBAAf,CAAgCS,WAAhC,yKAA4CC,SAA5C,kDAAwD,CAAxD,CAA0DC,OAA1D,kDAAkE,EAAlE,CAAqEC,EAArE,kDAA0E,EAA1E,mDACgBC,cAAc,CAAC,IAAD,CAAOC,KAAK,CAClC,iDADkC,CACiB,CAC/CC,MAAM,CAAE,MADuC,CAE/CC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFsC,CAM/CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,YAAY,CAACX,WADI,CAEjBC,SAAS,CAACA,SAFO,CAGjBC,OAAO,CAACA,OAHS,CAIjBC,EAAE,CAACA,EAJc,CAAf,CANyC,CADjB,CAAZ,CAAd,CAcNX,IAdM,CAcD,SAAAoB,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAdP,EAc4BrB,IAd5B,CAciC,SAAAsB,IAAI,CAAI,CACzC,GAAI,OAASA,CAAAA,IAAb,CAAkB,CACN,GAAIA,IAAI,CAAC,KAAD,CAAJ,GAAgB,mBAApB,CAAwC,CACpCC,YAAY,GAAGvB,IAAf,CAAqB,SAAAwB,KAAK,CAAI,CAC1BzB,gBAAgB,CAACS,WAAD,CAAaC,SAAb,CAAuBC,OAAvB,CAA+BC,EAA/B,CAAhB,CACC,CAFL,EAGER,KAHF,CAGS,SAAUC,KAAV,CAAiB,CAClBV,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACH,CANL,EAQA,MAAO,EAAP,CACH,CACJ,CAZT,IAaE,CACAV,OAAO,CAACC,GAAR,CAAY,aAAZ,EACAD,OAAO,CAACC,GAAR,CAAY2B,IAAI,CAAC,CAAD,CAAJ,CAAQX,EAApB,EACA,MAAOW,CAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQX,EAAf,CACH,CACD,MAAO,EAAP,CACP,CAlCS,EAkCPR,KAlCO,CAkCD,SAAUC,KAAV,CAAiB,CACpBV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACA,MAAO,EAAP,CACH,CArCO,CADhB,gIA4CA,QAAeC,CAAAA,iBAAf,CAAiCG,WAAjC,CAA6CiB,KAA7C,CAAmDC,KAAnD,CAAyDC,KAAzD,CAA+DC,KAA/D,wJAAqEjB,EAArE,kDAA0E,EAA1E,CACIjB,OAAO,CAACC,GAAR,CAAY,CAAC8B,KAAD,CAAOC,KAAP,CAAaC,KAAb,CAAmBC,KAAnB,CAAZ,EADJ,kDAEgBhB,cAAc,CAAC,IAAD,CAAOC,KAAK,CAClC,kDADkC,CACkB,CAChDC,MAAM,CAAE,MADwC,CAEhDC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFuC,CAMhDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBW,WAAW,CAACrB,WADK,CAEjBiB,KAAK,CAACA,KAFW,CAGjBC,KAAK,CAACA,KAHW,CAIjBC,KAAK,CAACA,KAJW,CAKjBC,KAAK,CAACA,KALW,CAMjBjB,EAAE,CAACA,EANc,CAAf,CAN0C,CADlB,CAAZ,CAAd,CAgBNX,IAhBM,CAgBD,SAAAoB,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAhBP,EAgB4BrB,IAhB5B,CAgBiC,SAAAsB,IAAI,CAAI,CACzC,GAAI,OAASA,CAAAA,IAAb,CAAkB,CACN,GAAIA,IAAI,CAAC,KAAD,CAAJ,GAAgB,mBAApB,CAAwC,CACpCC,YAAY,GAAGvB,IAAf,CAAqB,SAAAwB,KAAK,CAAI,CAC1BnB,iBAAiB,CAACG,WAAD,CAAaiB,KAAb,CAAmBC,KAAnB,CAAyBC,KAAzB,CAA+BC,KAA/B,CAAqCjB,EAArC,CAAjB,CACC,CAFL,EAGER,KAHF,CAGS,SAAUC,KAAV,CAAiB,CAClBV,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACH,CANL,EAQA,MAAO,EAAP,CACH,CACJ,CAZT,IAaE,CACAV,OAAO,CAACC,GAAR,CAAY,aAAZ,EACAD,OAAO,CAACC,GAAR,CAAY2B,IAAI,CAAC,CAAD,CAAJ,CAAQX,EAApB,EACA,MAAOW,CAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQX,EAAf,CACH,CACD,MAAO,EAAP,CACP,CApCS,EAoCPR,KApCO,CAoCD,SAAUC,KAAV,CAAiB,CACpBV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACA,MAAO,EAAP,CACH,CAvCO,CAFhB,gIA6CA,QAAe0B,CAAAA,aAAf,CAA6BC,OAA7B,4HACQnB,cAAc,CAAC,IAAD,CAAOC,KAAK,CACtB,mDADsB,CAC+B,CACjDC,MAAM,CAAE,MADyC,CAEjDC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFwC,CAMjDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBa,OAAO,CAAEA,OADQ,CAAf,CAN2C,CAD/B,CAAZ,CAAd,CAWE/B,IAXF,CAWO,SAAAoB,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAXf,EAWoCrB,IAXpC,CAWyC,SAAAsB,IAAI,CAAI,CAC7C,GAAIA,IAAI,CAAC,CAAD,CAAJ,EAAW,GAAf,CAAoB,CAChB5B,OAAO,CAACC,GAAR,CAAY,aAAZ,EACH,CAFD,IAEO,CACHD,OAAO,CAACC,GAAR,CAAY,QAAZ,EACH,CACJ,CAjBD,EAiBGQ,KAjBH,CAiBS,SAAUC,KAAV,CAAiB,CACtBV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACH,CAnBD,EADR,sEAwBA,QAAe4B,CAAAA,iBAAf,CAAkCrB,EAAlC,CAAsCsB,eAAtC,+IACYrB,cAAc,CAAC,IAAD,CAAOC,KAAK,CAC1B,yDAD0B,CACiC,CACvDC,MAAM,CAAE,MAD+C,CAEvDC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAF8C,CAMvDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBP,EAAE,CAAEA,EADa,CAEjBsB,eAAe,CAACA,eAFC,CAAf,CANiD,CADjC,CAAZ,CAAd,CAYEjC,IAZF,CAYO,SAAAoB,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAZf,EAYoCrB,IAZpC,CAYyC,SAAAsB,IAAI,CAAI,CAC7C,GAAIA,IAAI,CAAC,CAAD,CAAJ,EAAS,GAAb,CAAkB,CACd5B,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACA,KAAI,CAACuC,YAAL,GACH,CAHD,IAIK,CAACxC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB,CAC/B,CAlBD,EAkBGQ,KAlBH,CAkBS,SAAUC,KAAV,CAAiB,CACtBV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACH,CApBD,EADZ,sEA0BA,QAAe+B,CAAAA,cAAf,CAA+BxB,EAA/B,CAAmCsB,eAAnC,6IACYrB,cAAc,CAAC,IAAD,CAAOC,KAAK,CAC1B,qDAD0B,CAC6B,CACnDC,MAAM,CAAE,MAD2C,CAEnDC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAF0C,CAMnDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBP,EAAE,CAAEA,EADa,CAEjBsB,eAAe,CAACA,eAFC,CAAf,CAN6C,CAD7B,CAAZ,CAAd,CAYEjC,IAZF,CAYO,SAAAoB,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAZf,EAYoCrB,IAZpC,CAYyC,SAAAsB,IAAI,CAAI,CAC7C,GAAIA,IAAI,CAAC,CAAD,CAAJ,EAAS,GAAb,CAAkB,CACd5B,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACA,MAAI,CAACuC,YAAL,GACH,CAHD,IAIK,CAACxC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB,CAC/B,CAlBD,EAkBGQ,KAlBH,CAkBS,SAAUC,KAAV,CAAiB,CACtBV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACH,CApBD,EADZ,sEA2BA,QAAegC,CAAAA,iBAAf,CAAiC5B,WAAjC,CAA6C6B,KAA7C,CAAmDC,SAAnD,kLACgB1B,cAAc,CAAC,IAAD,CAAOC,KAAK,CAClC,gDADkC,CACgB,CAC9CC,MAAM,CAAE,MADsC,CAE9CC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFqC,CAM9CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBW,WAAW,CAACrB,WADK,CAEjB6B,KAAK,CAACA,KAFW,CAGjBC,SAAS,CAACA,SAHO,CAAf,CANwC,CADhB,CAAZ,CAAd,CAaNtC,IAbM,CAaD,SAAAoB,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAbP,EAa4BrB,IAb5B,CAaiC,SAAAsB,IAAI,CAAI,CACzC,GAAI,OAASA,CAAAA,IAAb,CAAkB,CACN,GAAIA,IAAI,CAAC,KAAD,CAAJ,GAAgB,mBAApB,CAAwC,CACpCC,YAAY,GAAGvB,IAAf,CAAqB,SAAAwB,KAAK,CAAI,CAC1BnB,iBAAiB,CAACG,WAAD,CAAa6B,KAAb,CAAmBC,SAAnB,CAAjB,CACC,CAFL,EAGEnC,KAHF,CAGS,SAAUC,KAAV,CAAiB,CAClBV,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACH,CANL,EAQA,MAAO,EAAP,CACH,CACJ,CAZT,IAaE,CACAV,OAAO,CAACC,GAAR,CAAY,aAAZ,EACAD,OAAO,CAACC,GAAR,CAAY2B,IAAI,CAAC,CAAD,CAAJ,CAAQX,EAApB,EACA,MAAOW,CAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQX,EAAf,CACH,CACD,MAAO,EAAP,CACP,CAjCS,EAiCPR,KAjCO,CAiCD,SAAUC,KAAV,CAAiB,CACpBV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACA,MAAO,EAAP,CACH,CApCO,CADhB,gIAyCA,QAAemC,CAAAA,gBAAf,CAAgC/B,WAAhC,CAA4C6B,KAA5C,CAAkDG,aAAlD,CAAgEC,SAAhE,iLACgB7B,cAAc,CAAC,IAAD,CAAOC,KAAK,CAClC,+CADkC,CACe,CAC7CC,MAAM,CAAE,MADqC,CAE7CC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFoC,CAM7CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBW,WAAW,CAACrB,WADK,CAEjB6B,KAAK,CAACA,KAFW,CAGjBI,SAAS,CAACA,SAHO,CAIjBD,aAAa,CAACA,aAJG,CAAf,CANuC,CADf,CAAZ,CAAd,CAcNxC,IAdM,CAcD,SAAAoB,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAdP,EAc4BrB,IAd5B,CAciC,SAAAsB,IAAI,CAAI,CACzC,GAAI,OAASA,CAAAA,IAAb,CAAkB,CACN,GAAIA,IAAI,CAAC,KAAD,CAAJ,GAAgB,mBAApB,CAAwC,CACpCC,YAAY,GAAGvB,IAAf,CAAqB,SAAAwB,KAAK,CAAI,CAC1BnB,iBAAiB,CAACG,WAAD,CAAa6B,KAAb,CAAmBG,aAAnB,CAAiCC,SAAjC,CAAjB,CACC,CAFL,EAGEtC,KAHF,CAGS,SAAUC,KAAV,CAAiB,CAClBV,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACH,CANL,EAQA,MAAO,EAAP,CACH,CACJ,CAZT,IAaE,CACAV,OAAO,CAACC,GAAR,CAAY,aAAZ,EACAD,OAAO,CAACC,GAAR,CAAY2B,IAAI,CAAC,CAAD,CAAJ,CAAQX,EAApB,EACA,MAAOW,CAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQX,EAAf,CACH,CACD,MAAO,EAAP,CACP,CAlCS,EAkCPR,KAlCO,CAkCD,SAAUC,KAAV,CAAiB,CACpBV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACA,MAAO,EAAP,CACH,CArCO,CADhB,gIA0CA,QAAesC,CAAAA,iBAAf,CAAiClC,WAAjC,CAA6C6B,KAA7C,CAAmDM,MAAnD,kLACgB/B,cAAc,CAAC,IAAD,CAAOC,KAAK,CAClC,gDADkC,CACgB,CAC9CC,MAAM,CAAE,MADsC,CAE9CC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFqC,CAM9CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBW,WAAW,CAACrB,WADK,CAEjB6B,KAAK,CAACA,KAFW,CAGjBM,MAAM,CAACA,MAHU,CAAf,CANwC,CADhB,CAAZ,CAAd,CAaN3C,IAbM,CAaD,SAAAoB,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAbP,EAa4BrB,IAb5B,CAaiC,SAAAsB,IAAI,CAAI,CACzC,GAAI,OAASA,CAAAA,IAAb,CAAkB,CACN,GAAIA,IAAI,CAAC,KAAD,CAAJ,GAAgB,mBAApB,CAAwC,CACpCC,YAAY,GAAGvB,IAAf,CAAqB,SAAAwB,KAAK,CAAI,CAC1BnB,iBAAiB,CAACG,WAAD,CAAa6B,KAAb,CAAmBM,MAAnB,CAAjB,CACC,CAFL,EAGExC,KAHF,CAGS,SAAUC,KAAV,CAAiB,CAClBV,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACH,CANL,EAQA,MAAO,EAAP,CACH,CACJ,CAZT,IAaE,CACAV,OAAO,CAACC,GAAR,CAAY,aAAZ,EACAD,OAAO,CAACC,GAAR,CAAY2B,IAAI,CAAC,CAAD,CAAJ,CAAQX,EAApB,EACA,MAAOW,CAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQX,EAAf,CACH,CACD,MAAO,EAAP,CACP,CAjCS,EAiCPR,KAjCO,CAiCD,SAAUC,KAAV,CAAiB,CACpBV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACA,MAAO,EAAP,CACH,CApCO,CADhB,gIAwCA,QAASwC,CAAAA,WAAT,CAAsBzD,MAAtB,CAA8B0D,KAA9B,CAAoC,CACxBjC,cAAc,CAAC,IAAD,CAAOC,KAAK,CAC1B,6CAD0B,CACqB,CAC3CC,MAAM,CAAE,MADmC,CAE3CC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFkC,CAM3CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjB/B,MAAM,CAAEA,MADS,CAEjB0D,KAAK,CAACA,KAFW,CAAf,CANqC,CADrB,CAAZ,CAAd,CAYE7C,IAZF,CAYO,SAAAoB,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAZf,EAYoCrB,IAZpC,CAYyC,SAAAsB,IAAI,CAAI,CAC7C,GAAIA,IAAI,CAAC,CAAD,CAAJ,EAAS,GAAb,CAAkB,CACd5B,OAAO,CAACC,GAAR,CAAY,eAAZ,EACH,CAFD,IAGK,CAACD,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB,CAC/B,CAjBD,EAiBGQ,KAjBH,CAiBS,SAAUC,KAAV,CAAiB,CACtBV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACH,CAnBD,EAoBH,CAKT,QAAe0C,CAAAA,mBAAf,CAAmCrB,KAAnC,CAAyCC,KAAzC,CAA+CC,KAA/C,CAAqDC,KAArD,8JAA2DjB,EAA3D,qDAAgE,EAAhE,CACGC,cAAc,CAAC,IAAD,CAAOC,KAAK,CACrB,kDADqB,CAC+B,CAChDC,MAAM,CAAE,MADwC,CAEhDC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFuC,CAMhDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBO,KAAK,CAACA,KADW,CAEjBC,KAAK,CAACA,KAFW,CAGjBC,KAAK,CAACA,KAHW,CAIjBC,KAAK,CAACA,KAJW,CAKjBjB,EAAE,CAACA,EALc,CAAf,CAN0C,CAD/B,CAAZ,CAAd,CAeOX,IAfP,CAeY,SAAAoB,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAfpB,EAeyCrB,IAfzC,CAe8C,SAAAoB,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAftD,EAe2ErB,IAf3E,CAgBS,SAAAsB,IAAI,CAAI,CACJ,GAAIA,IAAI,CAAC,CAAD,CAAJ,EAAS,GAAb,CAAiB,CACnB5B,OAAO,CAACC,GAAR,CAAY2B,IAAZ,EACA,MAAOA,CAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQX,EAAf,CACC,CACR,CArBJ,EAqBMR,KArBN,CAqBY,SAAUC,KAAV,CAAiB,CACpBV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACA,MAAO,EAAP,CACH,CAxBN,EADH,uEAgCA,QAAeG,CAAAA,iBAAf,CAAiCpB,MAAjC,CAAwCU,KAAxC,CAA8CR,GAA9C,CAAkDC,MAAlD,CAAyDyD,MAAzD,mIACIrD,OAAO,CAACC,GAAR,CAAY,CAACR,MAAD,CAAQU,KAAR,CAAcR,GAAd,CAAkBC,MAAlB,CAAyByD,MAAzB,CAAZ,EACDnC,cAAc,CAAC,IAAD,CAAOC,KAAK,CACrB,+CADqB,CAC4B,CAC7CC,MAAM,CAAE,MADqC,CAE7CC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFoC,CAM7CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBP,EAAE,CAAE,EADa,CAEjBd,KAAK,CAACA,KAFW,CAGjBR,GAAG,CAACA,GAHa,CAIjBC,MAAM,CAACA,MAJU,CAKjBH,MAAM,CAACA,MALU,CAMjB4D,MAAM,CAAGA,MANQ,CAAf,CANuC,CAD5B,CAAZ,CAAd,CAgBO/C,IAhBP,CAgBY,SAAAoB,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAhBpB,EAgByCrB,IAhBzC,CAiBS,SAAAsB,IAAI,CAAG,CACH,GAAGA,IAAI,CAAC,CAAD,CAAJ,EAAS,GAAZ,CAAgB,CAChB5B,OAAO,CAACC,GAAR,CAAY2B,IAAZ,EAAkB,EAClB,MAAOA,CAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQX,EAAf,CACH,CArBV,EAqBYR,KArBZ,CAqBkB,SAAUC,KAAV,CAAiB,CAC1BV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACH,CAvBN,EAFH,uEA+BA,QAASQ,CAAAA,cAAT,CAAwBoC,EAAxB,CAA4BC,OAA5B,CAAqC,CACnC,MAAO,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtC,GAAMC,CAAAA,SAAS,CAAGC,UAAU,CAAC,UAAM,CACjCF,MAAM,CAAC,GAAIG,CAAAA,KAAJ,CAAU,iBAAV,CAAD,CAAN,CACD,CAF2B,CAEzBP,EAFyB,CAA5B,CAGAC,OAAO,CAACjD,IAAR,CACE,SAACwD,GAAD,CAAS,CACPC,YAAY,CAACJ,SAAD,CAAZ,CACAF,OAAO,CAACK,GAAD,CAAP,CACD,CAJH,CAKE,SAACE,GAAD,CAAS,CACPD,YAAY,CAACJ,SAAD,CAAZ,CACAD,MAAM,CAACM,GAAD,CAAN,CACD,CARH,EAUD,CAdM,CAAP,CAeD,CAID,QAAenC,CAAAA,YAAf,+MAC0BvC,YAAY,CAAC2E,OAAb,CAAqB,aAArB,CAD1B,SACMnD,WADN,oEAE2BxB,YAAY,CAAC2E,OAAb,CAAqB,cAArB,CAF3B,SAEMC,YAFN,oEAGQhD,cAAc,CAAC,IAAD,CAAOC,KAAK,CAC5B,4CAD4B,CACkB,CAC5CC,MAAM,CAAE,MADoC,CAE5CC,OAAO,CAAE,CACP,SAAU,kBADH,CAEP,eAAgB,kBAFT,CAFmC,CAM5CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnB2C,YAAY,CAAErD,WADK,CAEnBsD,aAAa,CAAEF,YAFI,CAAf,CANsC,CADlB,CAAZ,CAAd,CAYH5D,IAZG,CAaF,SAAAoB,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAbN,EAcJrB,IAdI,CAeF,SAAAsB,IAAI,CAAI,CACNtC,YAAY,CAAC+E,OAAb,CAAqB,aAArB,CAAoCC,MAAM,CAAC1C,IAAI,CAACuC,YAAN,CAA1C,EACD,CAjBC,CAHR,yEAyBA,OAAQ3E,eAAR,CAAwBa,gBAAxB,CAAyCQ,iBAAzC,CAA2DF,iBAA3D,CAA6EqC,iBAA7E,CAA+FH,gBAA/F,CAAgHT,aAAhH,CAA8Hc,WAA9H","sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\nimport {createKeyboardAwareNavigator} from \"react-navigation\";\n\nfunction generateAllSets(raceID,set,cat,subcat,numberOfSets){\n        for(let i =1; i < parseInt(numberOfSets)+1;i++){\n            console.log(i);\n            generateNewWheelSet(raceID,i,cat,subcat);\n        }\n    }\n\n\n\nasync function generateNewWheelSet(raceID,setNr,cat,subcat){\n    let cols = [];\n    for (let i =0; i < 4; i++) {\n        await sendWheelRequest(0,'', '').then(Data => {\n            console.log(Data);\n            cols.push(Data);\n        }).catch(function (error) {\n            console.log(error);\n        })\n        //const idwheel = await AsyncStorage.getItem('WheelID')\n\n    }\n    console.log(cols)\n  await sendWheelsRequest(parseInt( cols[0]), parseInt(cols[1]), parseInt(cols[2]), parseInt(cols[3]), '').then(Data => {\n            console.log(Data);\n            cols.push(Data);\n        }).catch(function (error) {\n            console.log(error);\n        });\n    console.debug(cols[4])\n    // sendNewSetRequest(raceID,setNr,cat,subcat,wheels)\n    sendNewSetRequest(raceID,setNr,cat, subcat,cols[4] );\n}\n\n\nasync function sendWheelRequest(accesstoken,air_press = 0,id_scan='',id = '' ) {\n   return await timeoutPromise(2000, fetch(\n        'https://api.race24.cloud/wheel_cont/createWheel', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                aceess_tolen:accesstoken,\n                air_press:air_press,\n                id_scan:id_scan,\n                id:id,\n            })\n        })\n        ).then(response => response.json()).then(data => {\n                if (\"msg\" in data){\n                            if (data[\"msg\"] === \"Token has expired\"){\n                                refreshToken().then( token => {\n                                    sendWheelRequest(accesstoken,air_press,id_scan,id  );\n                                    }\n                                ).catch( function (error) {\n                                        console.log(\"Refresh failed\");\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log(\"Return Data\");\n                  console.log(data[0].id);\n                  return data[0].id;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n\n\n//generate one wheelS and return id\nasync function sendWheelsRequest(accesstoken,id_FL,id_FR,id_BL,id_BR,id = '') {\n    console.log([id_FL,id_FR,id_BL,id_BR]);\n   return await timeoutPromise(2000, fetch(\n        'https://api.race24.cloud/wheel_cont/createWheels', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                acces_token:accesstoken,\n                id_FL:id_FL,\n                id_FR:id_FR,\n                id_BL:id_BL,\n                id_BR:id_BR,\n                id:id,\n            })\n        })\n        ).then(response => response.json()).then(data => {\n                if (\"msg\" in data){\n                            if (data[\"msg\"] === \"Token has expired\"){\n                                refreshToken().then( token => {\n                                    sendWheelsRequest(accesstoken,id_FL,id_FR,id_BL,id_BR,id );\n                                    }\n                                ).catch( function (error) {\n                                        console.log(\"Refresh failed\");\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log(\"Return Data\");\n                  console.log(data[0].id);\n                  return data[0].id;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n//saveSet\nasync function changeSetData(setData) {\n        timeoutPromise(1000, fetch(\n            'https://api.race24.cloud/wheel_cont/changeSetData', {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    setData: setData,\n                })\n            })\n        ).then(response => response.json()).then(data => {\n            if (data[1] == 200) {\n                console.log(\"Set Changed\")\n            } else {\n                console.log(\"failed\")\n            }\n        }).catch(function (error) {\n            console.log(error);\n        })\n    }\n\n// save changes AirPressure\nasync function changeSingleWheel( id, liste_attribute){\n            timeoutPromise(2000, fetch(\n            'https://api.race24.cloud/wheel_cont/change_single_wheel', {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    id: id,\n                    liste_attribute:liste_attribute,\n                })\n            })\n            ).then(response => response.json()).then(data => {\n                if (data[1]==200) {\n                    console.log(\"Pressure Changed\")\n                    this.getWheelData()\n                }\n                else {console.log(\"failed\")}\n            }).catch(function (error) {\n                console.log(error);\n            })\n        }\n\n\n// save changes AirPressure\nasync function changeWheelSet( id, liste_attribute){\n            timeoutPromise(2000, fetch(\n            'https://api.race24.cloud/wheel_cont/change_wheelSet', {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    id: id,\n                    liste_attribute:liste_attribute,\n                })\n            })\n            ).then(response => response.json()).then(data => {\n                if (data[1]==200) {\n                    console.log(\"Pressure Changed\")\n                    this.getWheelData()\n                }\n                else {console.log(\"failed\")}\n            }).catch(function (error) {\n                console.log(error);\n            })\n        }\n\n\n\n// save formel changes\nasync function sendFormelRequest(accesstoken,setid,data_dict) {\n   return await timeoutPromise(2000, fetch(\n        'https://api.race24.cloud/wheel_cont/saveformel', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                acces_token:accesstoken,\n                setid:setid,\n                data_dict:data_dict\n            })\n        })\n        ).then(response => response.json()).then(data => {\n                if (\"msg\" in data){\n                            if (data[\"msg\"] === \"Token has expired\"){\n                                refreshToken().then( token => {\n                                    sendWheelsRequest(accesstoken,setid,data_dict);\n                                    }\n                                ).catch( function (error) {\n                                        console.log(\"Refresh failed\");\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log(\"Return Data\");\n                  console.log(data[0].id);\n                  return data[0].id;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n// save bleed changes\nasync function sendBleedRequest(accesstoken,setid,bleed_initial,bleed_hot) {\n   return await timeoutPromise(2000, fetch(\n        'https://api.race24.cloud/wheel_cont/saveBleed', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                acces_token:accesstoken,\n                setid:setid,\n                bleed_hot:bleed_hot,\n                bleed_initial:bleed_initial\n            })\n        })\n        ).then(response => response.json()).then(data => {\n                if (\"msg\" in data){\n                            if (data[\"msg\"] === \"Token has expired\"){\n                                refreshToken().then( token => {\n                                    sendWheelsRequest(accesstoken,setid,bleed_initial,bleed_hot);\n                                    }\n                                ).catch( function (error) {\n                                        console.log(\"Refresh failed\");\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log(\"Return Data\");\n                  console.log(data[0].id);\n                  return data[0].id;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n// save bleed changes\nasync function sendStatusRequest(accesstoken,setid,status) {\n   return await timeoutPromise(2000, fetch(\n        'https://api.race24.cloud/wheel_cont/saveStatus', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                acces_token:accesstoken,\n                setid:setid,\n                status:status\n            })\n        })\n        ).then(response => response.json()).then(data => {\n                if (\"msg\" in data){\n                            if (data[\"msg\"] === \"Token has expired\"){\n                                refreshToken().then( token => {\n                                    sendWheelsRequest(accesstoken,setid,status);\n                                    }\n                                ).catch( function (error) {\n                                        console.log(\"Refresh failed\");\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log(\"Return Data\");\n                  console.log(data[0].id);\n                  return data[0].id;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\nfunction changeTimer( raceID, liste){\n            timeoutPromise(2000, fetch(\n            'https://api.race24.cloud/timer/change_times', {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    raceID: raceID,\n                    liste:liste,\n                })\n            })\n            ).then(response => response.json()).then(data => {\n                if (data[1]==200) {\n                    console.log(\"Timer changes\")\n                }\n                else {console.log(\"failed\")}\n            }).catch(function (error) {\n                console.log(error);\n            })\n        }\n\n\n\n//generate one wheelsSet and return id\nasync function sendWheelSetRequest(id_FL,id_FR,id_BL,id_BR,id = '') {\n   timeoutPromise(2000, fetch(\n        'https://api.race24.cloud/wheel_cont/createWheels', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                id_FL:id_FL,\n                id_FR:id_FR,\n                id_BL:id_BL,\n                id_BR:id_BR,\n                id:id,\n            })\n        })\n        ).then(response => response.json()).then(response => response.json()).then(\n            data => {\n                if (data[1]==200){\n              console.log(data);\n              return data[0].id;\n              }\n      }).catch(function (error) {\n            console.log(error);\n            return 0;\n        })\n}\n\n\n\n\n//create new Set request\nasync function sendNewSetRequest(raceID,setNr,cat,subcat,wheels) {\n    console.log([raceID,setNr,cat,subcat,wheels])\n   timeoutPromise(2000, fetch(\n        'https://api.race24.cloud/wheel_cont/createSet', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                id: '',\n                setNr:setNr,\n                cat:cat,\n                subcat:subcat,\n                raceID:raceID,\n                wheels : wheels,\n            })\n        })\n        ).then(response => response.json()).then(\n            data =>{\n                if(data[1]==200){\n                console.log(data)};\n                return data[0].id\n            }).catch(function (error) {\n            console.log(error);\n        })\n}\n\n\n//  ----------------------------------------------------------------------------------------------\n\nfunction timeoutPromise(ms, promise) {\n  return new Promise((resolve, reject) => {\n    const timeoutId = setTimeout(() => {\n      reject(new Error('promise timeout'))\n    }, ms);\n    promise.then(\n      (res) => {\n        clearTimeout(timeoutId);\n        resolve(res);\n      },\n      (err) => {\n        clearTimeout(timeoutId);\n        reject(err);\n      }\n    );\n  })\n}\n\n\n\nasync function refreshToken() {\n  let accesstoken = await AsyncStorage.getItem('accesstoken');\n  let refreshtoken = await AsyncStorage.getItem('refreshtoken');\n  await timeoutPromise(2000, fetch(\n      'https://api.race24.cloud/user/auth/refresh', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          access_token: accesstoken,\n          refresh_token: refreshtoken,\n        })\n      }\n  )).then(\n      response => response.json()\n  ).then(\n      data => {\n        AsyncStorage.setItem('accesstoken', String(data.access_token));\n      }\n  )\n}\n\n\nexport {generateAllSets,sendWheelRequest,sendNewSetRequest,sendWheelsRequest,sendStatusRequest,sendBleedRequest,changeSetData,changeTimer}"]},"metadata":{},"sourceType":"module"}