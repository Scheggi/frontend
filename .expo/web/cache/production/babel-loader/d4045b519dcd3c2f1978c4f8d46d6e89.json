{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React from\"react\";import Text from\"react-native-web/dist/exports/Text\";import ToastAndroid from\"react-native-web/dist/exports/ToastAndroid\";import View from\"react-native-web/dist/exports/View\";import{styles}from\"./styles\";import AsyncStorage from'@react-native-async-storage/async-storage';import{timeoutPromise,refreshToken,getRaceList}from\"./tools\";export var SplashScreen=function(_React$Component){_inherits(SplashScreen,_React$Component);var _super=_createSuper(SplashScreen);function SplashScreen(props){_classCallCheck(this,SplashScreen);return _super.call(this,props);}_createClass(SplashScreen,[{key:\"checkLogin\",value:function checkLogin(){var accesstoken,refreshtoken;return _regeneratorRuntime.async(function checkLogin$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(AsyncStorage.getItem('accesstoken'));case 2:accesstoken=_context.sent;_context.next=5;return _regeneratorRuntime.awrap(AsyncStorage.getItem('refreshtoken'));case 5:refreshtoken=_context.sent;if(accesstoken==null){console.log(accesstoken);this.props.navigation.replace('Login');}else{this.props.navigation.replace('MainNav');}case 7:case\"end\":return _context.stop();}}},null,this,null,Promise);}},{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;return _regeneratorRuntime.async(function componentDidMount$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:try{this.focusListener=this.props.navigation.addListener('didFocus',function(){_this.checkLogin();});}catch(e){ToastAndroid.show(e,ToastAndroid.SHORT);}case 1:case\"end\":return _context2.stop();}}},null,this,null,Promise);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.focusListener.remove();}},{key:\"render\",value:function render(){return React.createElement(View,{style:{overflowY:'scroll',flex:1,backgroundColor:'#2e3742'}},React.createElement(\"h1\",{className:\"display-6\",style:{color:'#d0d7de',textAlign:'center',marginLeft:'auto',marginRight:'auto',marginTop:'auto',marginBottom:'auto'}},\" Reifenmanagement \"));}}]);return SplashScreen;}(React.Component);","map":{"version":3,"sources":["/home/toni/PycharmProjects/PropraSource/frontend/SplashScreen.js"],"names":["React","styles","AsyncStorage","timeoutPromise","refreshToken","getRaceList","SplashScreen","props","getItem","accesstoken","refreshtoken","console","log","navigation","replace","focusListener","addListener","checkLogin","e","ToastAndroid","show","SHORT","remove","overflowY","flex","backgroundColor","color","textAlign","marginLeft","marginRight","marginTop","marginBottom","Component"],"mappings":"ikCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,+KAEA,OAAQC,MAAR,gBACA,MAAOC,CAAAA,YAAP,KAAyB,2CAAzB,CACA,OAAQC,cAAR,CAAwBC,YAAxB,CAAqCC,WAArC,eAGA,UAAaC,CAAAA,YAAb,2GACI,sBAAYC,KAAZ,CAAmB,4DACTA,KADS,EAElB,CAHL,mDAKI,wNACkCL,YAAY,CAACM,OAAb,CAAqB,aAArB,CADlC,SACcC,WADd,gEAEmCP,YAAY,CAACM,OAAb,CAAqB,cAArB,CAFnC,SAEcE,YAFd,eAGQ,GAAID,WAAW,EAAI,IAAnB,CAAyB,CACrBE,OAAO,CAACC,GAAR,CAAYH,WAAZ,EACA,KAAKF,KAAL,CAAWM,UAAX,CAAsBC,OAAtB,CAA8B,OAA9B,EACH,CAHD,IAIK,CACD,KAAKP,KAAL,CAAWM,UAAX,CAAsBC,OAAtB,CAA8B,SAA9B,EACH,CATT,qEALJ,iCAiBI,0KACI,GAAI,CACE,KAAKC,aAAL,CAAqB,KAAKR,KAAL,CAAWM,UAAX,CAAsBG,WAAtB,CAAkC,UAAlC,CAA8C,UAAM,CACnE,KAAI,CAACC,UAAL,GACP,CAFsB,CAArB,CAIL,CAAC,MAAOC,CAAP,CAAU,CACJC,YAAY,CAACC,IAAb,CAAkBF,CAAlB,CAAqBC,YAAY,CAACE,KAAlC,EACP,CARL,sEAjBJ,oCA4BI,+BAAwB,CACpB,KAAKN,aAAL,CAAmBO,MAAnB,GACH,CA9BL,sBAgCI,iBAAS,CACL,MACI,qBAAC,IAAD,EAAM,KAAK,CAAE,CAACC,SAAS,CAAE,QAAZ,CAAsBC,IAAI,CAAE,CAA5B,CAA+BC,eAAe,CAAE,SAAhD,CAAb,EACA,0BAAI,SAAS,CAAC,WAAd,CAA0B,KAAK,CAAE,CAACC,KAAK,CAAE,SAAR,CAAmBC,SAAS,CAAE,QAA9B,CAAwCC,UAAU,CAAE,MAApD,CAA4DC,WAAW,CAAE,MAAzE,CAAiFC,SAAS,CAAE,MAA5F,CAAoGC,YAAY,CAAE,MAAlH,CAAjC,uBADA,CADJ,CAKH,CAtCL,0BAAkC/B,KAAK,CAACgC,SAAxC","sourcesContent":["import React from \"react\";\nimport {Text, ToastAndroid, View} from \"react-native\";\nimport {styles} from \"./styles\"\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport {timeoutPromise, refreshToken,getRaceList} from \"./tools\";\n\n\nexport class SplashScreen extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    async checkLogin(){\n            const accesstoken = await AsyncStorage.getItem('accesstoken');\n            const refreshtoken = await AsyncStorage.getItem('refreshtoken');\n            if (accesstoken == null) {\n                console.log(accesstoken)\n                this.props.navigation.replace('Login');\n            }\n            else {\n                this.props.navigation.replace('MainNav');\n            }\n    }\n\n    async componentDidMount() {\n        try {\n              this.focusListener = this.props.navigation.addListener('didFocus', () => {\n                    this.checkLogin()\n            })\n\n        } catch (e) {\n                ToastAndroid.show(e, ToastAndroid.SHORT);\n        }\n\n    }\n    componentWillUnmount () {\n        this.focusListener.remove()\n    }\n\n    render() {\n        return (\n            <View style={{overflowY: 'scroll', flex: 1, backgroundColor: '#2e3742'}}>\n            <h1 className=\"display-6\" style={{color: '#d0d7de', textAlign: 'center', marginLeft: 'auto', marginRight: 'auto', marginTop: 'auto', marginBottom: 'auto'}}> Reifenmanagement </h1>\n            </View>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}