{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React from\"react\";import Button from\"react-native-web/dist/exports/Button\";import Text from\"react-native-web/dist/exports/Text\";import TextInput from\"react-native-web/dist/exports/TextInput\";import ToastAndroid from\"react-native-web/dist/exports/ToastAndroid\";import View from\"react-native-web/dist/exports/View\";import{styles}from\"./styles\";import AsyncStorage from'@react-native-async-storage/async-storage';import{refreshToken,createNewRaceRequest,syncData}from\"./tools\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Image from\"react-native-web/dist/exports/Image\";import TouchableHighlight from\"react-native-web/dist/exports/TouchableHighlight\";import SectionList from\"react-native-web/dist/exports/SectionList\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{getRaceList,timeoutPromise}from\"./tools\";import{sendNewSetRequest,sendWheelRequest,sendWheelsRequest}from\"./tools_wheel\";var NewRaceScreen=function(_React$Component){_inherits(NewRaceScreen,_React$Component);var _super=_createSuper(NewRaceScreen);function NewRaceScreen(props){var _this;_classCallCheck(this,NewRaceScreen);_this=_super.call(this,props);_this.changeRace=function(event){event.preventDefault();_this.props.navigation.goBack();};_this.handleSubmit=function(event){event.preventDefault();_this.generateNewRace(_this.state.type,_this.state.place,_this.state.date);_this.prop.navigation.goBack();};_this.tableStyle={textAlign:'center',fontFamily:'arial, sans-serif',width:'50%',marginLeft:'auto',marginRight:'30%'};_this.tdStyle={textAlign:'left',padding:'8px'};_this.thStyle={textAlign:'left',padding:'8px',color:'white'};_this.order={justifyContent:'space-around',flexDirection:'row',padding:'0',height:'100%'};_this.container={width:\"35%\",padding:'50px'};_this.textStyles1={color:'black',fontSize:30,fontWeight:'bold',fontFamily:'arial',marginRight:'35%',marginLeft:'auto'};_this.state={type:'',place:'',date:'',raceList:[],raceID:-1,identifierSlicksCold:'',identifierSlicksMedium:'',identifierSlicksHot:'',identifierIntersIntermediate:'',identifierRainDryWet:'',identifierRainHeavyWet:'',contingentSlicksCold:-1,contingentSlicksMedium:-1,contingentSlicksHot:-1,contingentIntersIntermediate:-1,contingentRainDryWet:-1,contingentRainHeavyWet:-1};return _this;}_createClass(NewRaceScreen,[{key:\"validateForm\",value:function validateForm(){return this.state.date.length>0&&this.state.place.length>0&&this.state.identifierSlicksCold!=\"\"&&this.state.contingentSlicksCold!=-1&&this.state.identifierSlicksMedium!=\"\"&&this.state.contingentSlicksMedium!=-1&&this.state.identifierSlicksHot!=\"\"&&this.state.contingentSlicksHot!=-1&&this.state.identifierIntersIntermediate!=\"\"&&this.state.contingentIntersIntermediate!=\"\"&&this.state.identifierRainDryWet!=\"\"&&this.state.contingentRainDryWet!=-1&&this.state.identifierRainHeavyWet!=\"\"&&this.state.contingentRainHeavyWet!=-1;}},{key:\"generateAllSets\",value:function generateAllSets(raceID,set,cat,subcat,numberOfSets){for(var i=1;i<parseInt(numberOfSets)+1;i++){console.log(i);this.generateNewWheelSet(raceID,i,cat,subcat);}}},{key:\"generateNewWheelSet\",value:function generateNewWheelSet(raceID,setNr,cat,subcat){var cols,i,_accesstoken,accesstoken;return _regeneratorRuntime.async(function generateNewWheelSet$(_context){while(1){switch(_context.prev=_context.next){case 0:cols=[];i=0;case 2:if(!(i<4)){_context.next=11;break;}_context.next=5;return _regeneratorRuntime.awrap(AsyncStorage.getItem('accesstoken'));case 5:_accesstoken=_context.sent;_context.next=8;return _regeneratorRuntime.awrap(sendWheelRequest(_accesstoken,0,'','').then(function(Data){console.log(Data);cols.push(Data);}).catch(function(error){console.log(error);}));case 8:i++;_context.next=2;break;case 11:console.log(cols);_context.next=14;return _regeneratorRuntime.awrap(AsyncStorage.getItem('accesstoken'));case 14:accesstoken=_context.sent;_context.next=17;return _regeneratorRuntime.awrap(sendWheelsRequest(accesstoken,parseInt(cols[0]),parseInt(cols[1]),parseInt(cols[2]),parseInt(cols[3]),'').then(function(Data){console.log(Data);cols.push(Data);}).catch(function(error){console.log(error);}));case 17:console.debug(cols[4]);sendNewSetRequest(raceID,setNr,cat,subcat,cols[4]);case 19:case\"end\":return _context.stop();}}},null,null,null,Promise);}},{key:\"generateNewRace\",value:function generateNewRace(type,place,date){var id,accesstoken;return _regeneratorRuntime.async(function generateNewRace$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id='';_context2.next=3;return _regeneratorRuntime.awrap(AsyncStorage.getItem('accesstoken'));case 3:accesstoken=_context2.sent;_context2.next=6;return _regeneratorRuntime.awrap(createNewRaceRequest(accesstoken,type,place,date).then(function(Data){console.log(Data);id=Data;}).catch(function(error){console.log(error);}));case 6:console.log(id);this.setState({raceID:id});console.log(this.state.raceID);this.sendNewContigentRequest(this.state.raceID,1,\"Slicks\",\"Cold\",this.state.identifierSlicksCold,this.state.contingentSlicksCold);this.generateAllSets(this.state.raceID,\"Slicks\",\"Cold\",this.state.contingentSlicksCold);this.sendNewContigentRequest(this.state.raceID,2,\"Slicks\",\"Medium\",this.state.identifierSlicksMedium,parseInt(this.state.contingentSlicksMedium));this.generateAllSets(this.state.raceID,2,\"Slicks\",\"Medium\",parseInt(this.state.contingentSlicksMedium));this.sendNewContigentRequest(this.state.raceID,3,\"Slicks\",\"Hot\",this.state.identifierSlicksHot,parseInt(this.state.contingentSlicksHot));this.generateAllSets(this.state.raceID,3,\"Slicks\",\"Hot\",parseInt(this.state.contingentSlicksHot));this.sendNewContigentRequest(this.state.raceID,4,\"Inters\",\"Intermediate\",this.state.identifierIntersIntermediate,parseInt(this.state.contingentIntersIntermediate));this.generateAllSets(this.state.raceID,4,\"Inters\",\"Intermediate\",parseInt(this.state.contingentIntersIntermediate));this.sendNewContigentRequest(this.state.raceID,5,\"Rain\",\"DryWet\",this.state.identifierRainDryWet,parseInt(this.state.contingentRainDryWet));this.generateAllSets(this.state.raceID,5,\"Rain\",\"DryWet\",parseInt(this.state.contingentRainDryWet));this.sendNewContigentRequest(this.state.raceID,6,\"Rain\",\"HeavyWet\",this.state.identifierRainHeavyWet,parseInt(this.state.contingentRainHeavyWet));this.generateAllSets(this.state.raceID,6,\"Rain\",\"HeavyWet\",parseInt(this.state.contingentRainHeavyWet));case 21:case\"end\":return _context2.stop();}}},null,this,null,Promise);}},{key:\"sendNewContigentRequest\",value:function sendNewContigentRequest(raceID,set,cat,subcat,identifier,numberOfSets){return _regeneratorRuntime.async(function sendNewContigentRequest$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:timeoutPromise(2000,fetch('https://api.race24.cloud/wheels_start_astrid/create',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({raceID:raceID,set:set,cat:cat,subcat:subcat,identifier:identifier,numberOfSets:numberOfSets})})).then(function(response){return response.json();}).then(function(data){console.log(data);if(data[1]==200){console.log(data[0]);return data[0].id;}else{console.log(\"failed\");return data[0].id;}return data[0].id;}).catch(function(error){console.log(error);return 0;});case 1:case\"end\":return _context3.stop();}}},null,null,null,Promise);}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(View,{style:this.order},React.createElement(\"div\",{style:this.container},React.createElement(View,null,React.createElement(\"text\",{style:{height:75}},\" \")),React.createElement(\"h1\",{style:{fontSize:30,fontWeight:'bold',color:'black',textAlign:'center',fontFamily:'arial',marginLeft:'auto',marginRight:'auto'}},\"Neues Rennen anlegen\"),React.createElement(View,null,React.createElement(\"table\",{style:{textAlign:'center',fontFamily:'arial, sans-serif',width:'70%',marginLeft:'auto',marginRight:'auto'}},React.createElement(\"tr\",null,React.createElement(\"td\",{bgcolor:\"#696969\",style:{textAlign:\"left\",padding:'8px',fontWeight:'bold',color:'white'}},React.createElement(\"label\",null,\" Rennart: \")),React.createElement(\"td\",{style:{border:\"solid\",borderColor:'dimgrey',height:20,padding:'8px',textAlign:'center'}},React.createElement(TextInput,{style:{textAlign:'left',height:20,width:250,fontFamily:'arial'},value:this.state.type,onChangeText:function onChangeText(type){return _this2.setState({type:type});},placeholder:\"24h-Rennen\"}))),React.createElement(\"tr\",{style:{height:20}},\" \"),React.createElement(\"tr\",null,React.createElement(\"td\",{bgcolor:\"#696969\",style:{textAlign:\"left\",padding:'8px',fontWeight:'bold',color:'white'}},React.createElement(\"label\",null,\" Rennstrecke: \")),React.createElement(\"td\",{style:{border:\"solid\",borderColor:'dimgrey',height:20,padding:'8px',textAlign:'center'}},\" \",React.createElement(TextInput,{style:{textAlign:'left',height:20,width:250,fontFamily:'arial'},value:this.state.place,onChangeText:function onChangeText(place){return _this2.setState({place:place});},placeholder:\"Rennstrecke\"}))),React.createElement(\"tr\",{style:{height:20}},\" \"),React.createElement(\"tr\",null,React.createElement(\"td\",{bgcolor:\"#696969\",style:{textAlign:\"left\",padding:'8px',fontWeight:'bold',color:'white'}},React.createElement(\"label\",null,\" Startdatum: \")),React.createElement(\"td\",{style:{border:\"solid\",borderColor:'dimgrey',height:20,padding:'8px',textAlign:'center'}},React.createElement(TextInput,{style:{textAlign:'left',height:20,width:250,fontFamily:'arial'},value:this.state.date,onChangeText:function onChangeText(text){return _this2.setState({date:text});},placeholder:\"TT.MM.JJJJ\"})))))),React.createElement(View,{style:styles.viewStyles},React.createElement(Text,{style:this.textStyles1},\"Reifenkontingent festlegen\"),React.createElement(\"br\",null),React.createElement(\"div\",null,React.createElement(\"table\",{style:this.tableStyle},React.createElement(\"tr\",{style:{backgroundColor:'dimgrey'}},React.createElement(\"th\",{style:this.thStyle}),React.createElement(\"th\",{style:this.thStyle},\"Mischung\"),React.createElement(\"th\",{style:this.thStyle},\"Bezeichnung\"),React.createElement(\"th\",{style:this.thStyle},\"Kontingent\")),React.createElement(\"tr\",{style:{backgroundColor:'lightgrey'}},React.createElement(\"th\",{style:this.tdStyle},\"Slicks\"),React.createElement(\"td\",{style:this.tdStyle}),React.createElement(\"td\",{style:this.tdStyle}),React.createElement(\"td\",{style:this.tdStyle})),React.createElement(\"tr\",{style:{backgroundColor:'lightgrey'}},React.createElement(\"td\",{style:this.tdStyle}),React.createElement(\"td\",{style:this.tdStyle},\"Cold (H/E)\"),React.createElement(\"td\",{style:this.tdStyle},React.createElement(TextInput,{style:{height:20},onChangeText:function onChangeText(x){return _this2.setState({identifierSlicksCold:x});}})),React.createElement(\"td\",{style:this.tdStyle},React.createElement(TextInput,{style:{height:20},onChangeText:function onChangeText(x){return _this2.setState({contingentSlicksCold:x});}}))),React.createElement(\"tr\",{style:{backgroundColor:'lightgrey'}},React.createElement(\"td\",{style:this.tdStyle}),React.createElement(\"td\",{style:this.tdStyle},\"Medium (G/D)\"),React.createElement(\"td\",{style:this.tdStyle},React.createElement(TextInput,{style:{height:20},onChangeText:function onChangeText(x){return _this2.setState({identifierSlicksMedium:x});}})),React.createElement(\"td\",{style:this.tdStyle},React.createElement(TextInput,{style:{height:20},onChangeText:function onChangeText(x){return _this2.setState({contingentSlicksMedium:x});}}))),React.createElement(\"tr\",{style:{backgroundColor:'lightgrey'}},React.createElement(\"td\",{style:this.tdStyle}),React.createElement(\"td\",{style:this.tdStyle},\"Hot (I/F)\"),React.createElement(\"td\",{style:this.tdStyle},React.createElement(TextInput,{style:{height:20},onChangeText:function onChangeText(x){return _this2.setState({identifierSlicksHot:x});}})),React.createElement(\"td\",{style:this.tdStyle},React.createElement(TextInput,{style:{height:20},onChangeText:function onChangeText(x){return _this2.setState({contingentSlicksHot:x});}}))),React.createElement(\"tr\",{style:{backgroundColor:'gray'}},React.createElement(\"th\",{style:this.tdStyle},\"Inters\"),React.createElement(\"td\",{style:this.tdStyle},\"Intermediate (H+/E+)\"),React.createElement(\"td\",{style:this.tdStyle},React.createElement(TextInput,{style:{height:20,color:'white'},onChangeText:function onChangeText(x){return _this2.setState({identifierIntersIntermediate:x});}})),React.createElement(\"td\",{style:this.tdStyle},React.createElement(TextInput,{style:{height:20,color:'white'},onChangeText:function onChangeText(x){return _this2.setState({contingentIntersIntermediate:x});}}))),React.createElement(\"tr\",{style:{backgroundColor:'lightgrey'}},React.createElement(\"th\",{style:this.tdStyle},\"Rain\"),React.createElement(\"td\",{style:this.tdStyle}),React.createElement(\"td\",{style:this.tdStyle}),React.createElement(\"td\",{style:this.tdStyle})),React.createElement(\"tr\",{style:{backgroundColor:'lightgrey'}},React.createElement(\"td\",{style:this.tdStyle}),React.createElement(\"td\",{style:this.tdStyle},\"Dry wet (T/T)\"),React.createElement(\"td\",{style:this.tdStyle},React.createElement(TextInput,{style:{height:20},onChangeText:function onChangeText(x){return _this2.setState({identifierRainDryWet:x});}})),React.createElement(\"td\",{style:this.tdStyle},React.createElement(TextInput,{style:{height:20},onChangeText:function onChangeText(x){return _this2.setState({contingentRainDryWet:x});}}))),React.createElement(\"tr\",{style:{backgroundColor:'lightgrey'}},React.createElement(\"td\",{style:this.tdStyle}),React.createElement(\"td\",{style:this.tdStyle},\"Heavy wet (A/A)\"),React.createElement(\"td\",{style:this.tdStyle},React.createElement(TextInput,{style:{height:20},onChangeText:function onChangeText(x){return _this2.setState({identifierRainHeavyWet:x});}})),React.createElement(\"td\",{style:this.tdStyle},React.createElement(TextInput,{style:{height:20},onChangeText:function onChangeText(x){return _this2.setState({contingentRainHeavyWet:x});}})))),React.createElement(Text,{style:{height:20}},\" \")),React.createElement(\"view\",{style:{marginLeft:'auto',marginRight:'auto',width:200}},React.createElement(Text,{style:{height:20}},\" \"),React.createElement(Button,{disabled:!this.validateForm(),title:\"Renndaten anlegen\",onPress:this.handleSubmit}),React.createElement(Text,{style:{height:20}},\" \"),React.createElement(Button,{title:\"zur\\xFCck\",onPress:this.changeRace}))));}}]);return NewRaceScreen;}(React.Component);export{NewRaceScreen as default};","map":{"version":3,"sources":["/home/toni/PycharmProjects/PropraSource/frontend/NewRace.js"],"names":["React","styles","AsyncStorage","refreshToken","createNewRaceRequest","syncData","getRaceList","timeoutPromise","sendNewSetRequest","sendWheelRequest","sendWheelsRequest","NewRaceScreen","props","changeRace","event","preventDefault","navigation","goBack","handleSubmit","generateNewRace","state","type","place","date","prop","tableStyle","textAlign","fontFamily","width","marginLeft","marginRight","tdStyle","padding","thStyle","color","order","justifyContent","flexDirection","height","container","textStyles1","fontSize","fontWeight","raceList","raceID","identifierSlicksCold","identifierSlicksMedium","identifierSlicksHot","identifierIntersIntermediate","identifierRainDryWet","identifierRainHeavyWet","contingentSlicksCold","contingentSlicksMedium","contingentSlicksHot","contingentIntersIntermediate","contingentRainDryWet","contingentRainHeavyWet","length","set","cat","subcat","numberOfSets","i","parseInt","console","log","generateNewWheelSet","setNr","cols","getItem","accesstoken","then","Data","push","catch","error","debug","id","setState","sendNewContigentRequest","generateAllSets","identifier","fetch","method","headers","body","JSON","stringify","response","json","data","border","borderColor","text","viewStyles","backgroundColor","x","validateForm","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Button, Text, TextInput, ToastAndroid, View} from \"react-native\";\nimport {styles} from \"./styles\"\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport {refreshToken,createNewRaceRequest, syncData} from \"./tools\";\nimport {\n    StyleSheet,\n    Image,\n    TouchableHighlight,\n    SectionList,\n    TouchableOpacity\n} from 'react-native';\nimport {getRaceList, timeoutPromise} from \"./tools\"\nimport {sendNewSetRequest, sendWheelRequest, sendWheelsRequest} from \"./tools_wheel\";\n\n\nexport default class NewRaceScreen extends React.Component {\n  constructor(props) {\n        super(props);\n        this.state = {\n            type: '',\n            place: '',\n            date: '',\n            raceList: [],\n            raceID: -1,\n            identifierSlicksCold: '',\n            identifierSlicksMedium: '',\n            identifierSlicksHot: '',\n            identifierIntersIntermediate: '',\n            identifierRainDryWet: '',\n            identifierRainHeavyWet: '',\n            contingentSlicksCold: -1,\n            contingentSlicksMedium: -1,\n            contingentSlicksHot: -1,\n            contingentIntersIntermediate: -1,\n            contingentRainDryWet: -1,\n            contingentRainHeavyWet: -1,\n        }\n    }\n\n    changeRace = event => {\n        event.preventDefault();\n        this.props.navigation.goBack();\n    }\n\n    validateForm() {\n        return (this.state.date.length > 0 && this.state.place.length >0 && this.state.identifierSlicksCold != \"\" && this.state.contingentSlicksCold != -1 && this.state.identifierSlicksMedium != \"\" && this.state.contingentSlicksMedium != -1 && this.state.identifierSlicksHot != \"\" && this.state.contingentSlicksHot != -1 && this.state.identifierIntersIntermediate != \"\" && this.state.contingentIntersIntermediate != \"\" && this.state.identifierRainDryWet != \"\" && this.state.contingentRainDryWet != -1 && this.state.identifierRainHeavyWet != \"\" && this.state.contingentRainHeavyWet != -1)\n    }\n\n    handleSubmit = event => {\n        event.preventDefault();\n        this.generateNewRace(this.state.type,this.state.place,this.state.date);\n        this.prop.navigation.goBack();\n    }\n\n        // generate DataSet------------------------------------------------------------------------\n    //raceID, set, cat, subcat, identifier, numberOfSets\n    generateAllSets(raceID,set,cat,subcat,numberOfSets){\n        for(let i =1; i < parseInt(numberOfSets)+1;i++){\n            console.log(i);\n            this.generateNewWheelSet(raceID,i,cat,subcat);\n        }\n    }\n\n\n    async generateNewWheelSet(raceID,setNr,cat,subcat){\n\n        let cols = [];\n        for (let i =0; i < 4; i++) {\n            const accesstoken = await AsyncStorage.getItem('accesstoken');\n            await sendWheelRequest(accesstoken,0,'', '').then(Data => {\n                console.log(Data);\n                cols.push(Data);\n            }).catch(function (error) {\n                console.log(error);\n            })\n            //const idwheel = await AsyncStorage.getItem('WheelID')\n\n        }\n        console.log(cols)\n        const accesstoken = await AsyncStorage.getItem('accesstoken');\n      await sendWheelsRequest(accesstoken, parseInt( cols[0]), parseInt(cols[1]), parseInt(cols[2]), parseInt(cols[3]), '').then(Data => {\n                console.log(Data);\n                cols.push(Data);\n            }).catch(function (error) {\n                console.log(error);\n            });\n        console.debug(cols[4])\n        // sendNewSetRequest(raceID,setNr,cat,subcat,wheels)\n        sendNewSetRequest(raceID,setNr,cat, subcat,cols[4] );\n    }\n\n\n    // end generate---------------------------------------------------------------------------\n\n     async generateNewRace(type,place,date){\n      let id  = '';\n        const accesstoken = await AsyncStorage.getItem('accesstoken');\n        await createNewRaceRequest(accesstoken,type,place,date).then(Data => {\n                console.log(Data);\n                id = Data;\n            }).catch(function (error) {\n                console.log(error);\n            })\n         console.log(id)\n         this.setState({raceID:id});\n        console.log(this.state.raceID);\n         this.sendNewContigentRequest(this.state.raceID, 1, \"Slicks\", \"Cold\", this.state.identifierSlicksCold, this.state.contingentSlicksCold);\n        // raceID,set,cat,subcat,numberOfSets\n        this.generateAllSets(this.state.raceID,\"Slicks\", \"Cold\", this.state.contingentSlicksCold)\n        this.sendNewContigentRequest(this.state.raceID, 2, \"Slicks\", \"Medium\", this.state.identifierSlicksMedium, parseInt(this.state.contingentSlicksMedium));\n        this.generateAllSets(this.state.raceID, 2, \"Slicks\", \"Medium\", parseInt(this.state.contingentSlicksMedium));\n        this.sendNewContigentRequest(this.state.raceID, 3, \"Slicks\", \"Hot\", this.state.identifierSlicksHot, parseInt(this.state.contingentSlicksHot));\n        this.generateAllSets(this.state.raceID, 3, \"Slicks\", \"Hot\", parseInt(this.state.contingentSlicksHot));\n        this.sendNewContigentRequest(this.state.raceID, 4, \"Inters\", \"Intermediate\", this.state.identifierIntersIntermediate, parseInt(this.state.contingentIntersIntermediate));\n        this.generateAllSets(this.state.raceID, 4, \"Inters\", \"Intermediate\", parseInt(this.state.contingentIntersIntermediate));\n        this.sendNewContigentRequest(this.state.raceID, 5, \"Rain\", \"DryWet\", this.state.identifierRainDryWet, parseInt(this.state.contingentRainDryWet));\n        this.generateAllSets(this.state.raceID, 5, \"Rain\", \"DryWet\", parseInt(this.state.contingentRainDryWet));\n        this.sendNewContigentRequest(this.state.raceID, 6, \"Rain\", \"HeavyWet\", this.state.identifierRainHeavyWet, parseInt(this.state.contingentRainHeavyWet));\n        this.generateAllSets(this.state.raceID, 6, \"Rain\", \"HeavyWet\", parseInt(this.state.contingentRainHeavyWet));\n\n  }\n\n\n      async sendNewContigentRequest(raceID, set, cat, subcat, identifier, numberOfSets) {\n       timeoutPromise(2000, fetch(\n            'https://api.race24.cloud/wheels_start_astrid/create', {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    raceID: raceID,\n                    set: set, //Zeilennummer der\n                    cat: cat, // String Slick Inters, Rain\n                    subcat: subcat,  // String Mischung\n                    identifier: identifier, // Bezeichnung Str\n                    numberOfSets: numberOfSets, // Kontigent Int\n                })\n            })\n            ).then(response => response.json()).then(data => {\n                console.log(data)\n                if (data[1]==200) {\n                    console.log(data[0]);\n                    return data[0].id\n                }\n                else {\n                    console.log(\"failed\");\n                    return data[0].id;\n                }\n                return data[0].id;\n            }).catch(function (error) {\n                console.log(error);\n                return 0;\n            })\n    }\n\n  render() {\n        return (\n            <View style={this.order}>\n                <div style={this.container}>\n                    <View>\n                        <text style={{height: 75}}> </text>\n                    </View>\n                    <h1 style={{fontSize: 30, fontWeight: 'bold',color: 'black', textAlign: 'center', fontFamily: 'arial', marginLeft: 'auto', marginRight:'auto'}}>\n                    Neues Rennen anlegen\n                </h1>\n                <View >\n                     <table style={{textAlign: 'center', fontFamily:'arial, sans-serif', width:'70%', marginLeft:'auto', marginRight:'auto'}}>\n                    <tr>\n                        <td bgcolor='#696969' style={{textAlign: \"left\", padding: '8px', fontWeight: 'bold', color: 'white'}}><label> Rennart: </label></td>\n                        <td style={{border: \"solid\", borderColor: 'dimgrey', height: 20, padding: '8px', textAlign: 'center'}}><TextInput style={{textAlign: 'left', height: 20, width: 250, fontFamily: 'arial'}} value={this.state.type}\n                                   onChangeText={(type) => this.setState({type:type})} placeholder='24h-Rennen'/></td>\n                    </tr>\n                       <tr style={{height: 20}}> </tr>\n                    <tr>\n                        <td bgcolor='#696969' style={{textAlign: \"left\", padding: '8px', fontWeight: 'bold', color: 'white'}}><label> Rennstrecke: </label></td>\n                        <td style={{border: \"solid\", borderColor: 'dimgrey', height: 20, padding: '8px', textAlign: 'center'}}> <TextInput style={{textAlign: 'left', height: 20, width: 250, fontFamily: 'arial'}} value={this.state.place}\n                                    onChangeText={(place) => this.setState({place: place})} placeholder='Rennstrecke'/>\n                        </td>\n                    </tr>\n                       <tr style={{height: 20}}> </tr>\n                    <tr>\n                        <td bgcolor='#696969' style={{textAlign: \"left\", padding: '8px', fontWeight: 'bold', color: 'white'}}><label> Startdatum: </label></td>\n                        <td style={{border: \"solid\", borderColor: 'dimgrey', height: 20, padding: '8px', textAlign: 'center'}}><TextInput style={{textAlign: 'left', height: 20, width: 250, fontFamily: 'arial'}} value={this.state.date}\n                                   onChangeText={(text) => this.setState({date: text})} placeholder='TT.MM.JJJJ'/></td>\n                    </tr>\n                     </table>\n                </View>\n\n                </div>\n                <View style={styles.viewStyles}>\n                    <Text style={this.textStyles1}>\n                        Reifenkontingent festlegen\n                    </Text>\n                    <br></br>\n                    <div>\n                        <table style={this.tableStyle}>\n                            <tr style={{backgroundColor: 'dimgrey'}}>\n                                <th style={this.thStyle}></th>\n                                <th style={this.thStyle}>Mischung</th>\n                                <th style={this.thStyle}>Bezeichnung</th>\n                                <th style={this.thStyle}>Kontingent</th>\n                            </tr>\n\n                            <tr style={{backgroundColor: 'lightgrey'}}>\n                                <th style={this.tdStyle}>Slicks</th>\n                                <td style={this.tdStyle}></td>\n                                <td style={this.tdStyle}></td>\n                                <td style={this.tdStyle}></td>\n                            </tr>\n                            <tr style={{backgroundColor: 'lightgrey'}}>\n                                <td style={this.tdStyle}></td>\n                                <td style={this.tdStyle}>Cold (H/E)</td>\n                                < td style={this.tdStyle}><TextInput\n                                    style={{height: 20}}\n                                    onChangeText={(x) => this.setState({identifierSlicksCold: x})}\n                                />\n                                </td>\n                                <td style={this.tdStyle}><TextInput\n                                    style={{height: 20}}\n                                    onChangeText={(x) => this.setState({contingentSlicksCold: x})}\n                                />\n                                </td>\n                            </tr>\n\n                            <tr style={{backgroundColor: 'lightgrey'}}>\n                                <td style={this.tdStyle}></td>\n                                <td style={this.tdStyle}>Medium (G/D)</td>\n                                < td style={this.tdStyle}><TextInput\n                                    style={{height: 20}}\n                                    onChangeText={(x) => this.setState({identifierSlicksMedium: x})}\n                                />\n                                </td>\n                                <td style={this.tdStyle}><TextInput\n                                    style={{height: 20}}\n                                    onChangeText={(x) => this.setState({contingentSlicksMedium: x})}\n                                />\n                                </td>\n                            </tr>\n\n                            <tr style={{backgroundColor: 'lightgrey'}}>\n                                <td style={this.tdStyle}></td>\n                                <td style={this.tdStyle}>Hot (I/F)</td>\n                                < td style={this.tdStyle}><TextInput\n                                    style={{height: 20}}\n                                    onChangeText={(x) => this.setState({identifierSlicksHot: x})}\n                                />\n                                </td>\n                                <td style={this.tdStyle}><TextInput\n                                    style={{height: 20}}\n                                    onChangeText={(x) => this.setState({contingentSlicksHot: x})}\n                                />\n                                </td>\n                            </tr>\n\n                            <tr style={{backgroundColor: 'gray'}}>\n                                <th style={this.tdStyle}>Inters</th>\n                                <td style={this.tdStyle}>Intermediate (H+/E+)</td>\n                                < td style={this.tdStyle}><TextInput\n                                    style={{height: 20, color: 'white'}}\n                                    onChangeText={(x) => this.setState({identifierIntersIntermediate: x})}\n                                />\n                                </td>\n                                <td style={this.tdStyle}><TextInput\n                                    style={{height: 20,  color: 'white'}}\n                                    onChangeText={(x) => this.setState({contingentIntersIntermediate: x})}\n                                />\n                                </td>\n                            </tr>\n                            <tr style={{backgroundColor: 'lightgrey'}}>\n                                <th style={this.tdStyle}>Rain</th>\n                                <td style={this.tdStyle}></td>\n                                < td style={this.tdStyle}></td>\n                                <td style={this.tdStyle}></td>\n                            </tr>\n                            <tr style={{backgroundColor: 'lightgrey'}}>\n                                <td style={this.tdStyle}></td>\n                                <td style={this.tdStyle}>Dry wet (T/T)</td>\n                                < td style={this.tdStyle}><TextInput\n                                    style={{height: 20}}\n                                    onChangeText={(x) => this.setState({identifierRainDryWet: x})}\n                                />\n                                </td>\n                                <td style={this.tdStyle}><TextInput\n                                    style={{height: 20}}\n                                    onChangeText={(x) => this.setState({contingentRainDryWet: x})}\n                                />\n                                </td>\n                            </tr>\n                            <tr style={{backgroundColor: 'lightgrey'}}>\n                                <td style={this.tdStyle}></td>\n                                <td style={this.tdStyle}>Heavy wet (A/A)</td>\n                                < td style={this.tdStyle}><TextInput\n                                    style={{height: 20}}\n                                    onChangeText={(x) => this.setState({identifierRainHeavyWet: x})}\n                                />\n                                </td>\n                                <td style={this.tdStyle}><TextInput\n                                    style={{height: 20}}\n                                    onChangeText={(x) => this.setState({contingentRainHeavyWet: x})}\n                                />\n                                </td>\n                            </tr>\n\n                        </table>\n                         <Text style={{height: 20}}> </Text>\n                    </div>\n                <view style={{marginLeft: 'auto', marginRight: 'auto', width: 200}}>\n                     <Text style={{height: 20}}> </Text>\n                    <Button\n                        disabled={!this.validateForm()}\n                        title=\"Renndaten anlegen\"\n                        onPress={this.handleSubmit}\n                    />\n                     <Text style={{height: 20}}> </Text>\n                    <Button\n                        title=\"zurÃ¼ck\"\n                        onPress={this.changeRace}\n                    />\n                </view>\n\n                </View>\n            </View>\n        );\n\n    }\n     tableStyle = {\n    textAlign: 'center',\n     fontFamily:'arial, sans-serif',\n        width:'50%',\n        marginLeft:'auto',\n        marginRight:'30%',\n    }\n    tdStyle={\n        textAlign:'left',\n        padding:'8px'\n    }\n    thStyle={\n        textAlign:'left',\n        padding:'8px',\n        color: 'white'\n\n    }\n    order={\n        justifyContent: 'space-around',\n        flexDirection: 'row',\n        padding: '0',\n        height: '100%'\n\n    }\n    container={\n        width:\"35%\",\n        padding: '50px',\n    }\n    textStyles1={\n         color: 'black',\n        fontSize: 30,\n        fontWeight: 'bold',\n        fontFamily: 'arial',\n        marginRight: '35%',\n        marginLeft: 'auto'\n    }\n\n\n\n}"]},"metadata":{},"sourceType":"module"}